{"remainingRequest":"/var/www/html/new-project-portal/vue-main-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/new-project-portal/vue-main-front/src/components/inventory/inventory-import.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/new-project-portal/vue-main-front/src/components/inventory/inventory-import.vue","mtime":1623136160945},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlci10b2tlbiIpOwpjb25zdCBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvIiwKICBoZWFkZXJzOiB7CiAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0b2tlbiwKICB9LAp9KTsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYnJhbmNoOiBudWxsLAogICAgICBvcHRpb25zOiBbXSwKICAgICAgZGF0ZTogJzIwMjEvMDYvMTgnLAogICAgICBwcm94eURhdGU6ICcyMDIxLzA2LzE4JwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZhY3RvcnlGbihmaWxlcykgewogICAgICBjb25zdCBmaWxlRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmaWxlRGF0YS5hcHBlbmQoImZpbGVfcGF0aCIsIGZpbGVzWzBdKTsKICAgICAgZmlsZURhdGEuYXBwZW5kKCJicmFuY2giLCB0aGlzLmJyYW5jaC52YWx1ZSk7CiAgICAgIGZpbGVEYXRhLmFwcGVuZCgiZGF0ZSIsIHRoaXMucHJveHlEYXRlKTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS9pbXBvcnQvaW52ZW50b3J5IiwgZmlsZURhdGEsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIiwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigKICAgICAgICAgIChyZXMpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIH0sCiAgICAgICAgICAoZXJyKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgIH0sCiAgICBicmFuY2hlcygpewogICAgICAgaW5zdGFuY2UuZ2V0KCcvYnJhbmNoZXMvZ2V0JykudGhlbigocmVzKT0+ewogICAgICAgICBsZXQgYnJhbmNoZXMgPSBbXTsKICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgIGJyYW5jaGVzLnB1c2goe2xhYmVsOiBlbGVtZW50LmJyYW5jaCx2YWx1ZTogZWxlbWVudC5pZCwgaWNvbjogJ2hvdXNlJ30pCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGJyYW5jaGVzOwogICAgICAgfSkKICAgICAgCiAgICB9LAogICAgdXBkYXRlUHJveHkgKCkgewogICAgICB0aGlzLnByb3h5RGF0ZSA9IHRoaXMuZGF0ZQogICAgfSwKCiAgICBzYXZlICgpIHsKICAgICAgdGhpcy5kYXRlID0gdGhpcy5wcm94eURhdGUKICAgIH0KICB9LAogIG1vdW50ZWQoKXsKICAgIHRoaXMuYnJhbmNoZXMoKQogIH0KfTsK"},{"version":3,"sources":["inventory-import.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"inventory-import.vue","sourceRoot":"src/components/inventory","sourcesContent":["<template>\n  <div class=\"q-pa-md row items-start q-gutter-md\">\n    <div class=\"col-3\">\n                 <div style=\"margin-bottom: 12px\">\n          <q-btn\n            icon=\"fas fa-angle-double-left\"\n            color=\"teal\"\n          ></q-btn>\n        </div>\n    <q-card class=\"my-card\">\n  \n      <q-uploader :factory=\"factoryFn\" max-files=\"1\" style=\"width: 371px\" />\n      <q-select\n        filled\n        v-model=\"branch\"\n        :options=\"options\"\n        stack-label\n        label=\"Appletronics Warehouse\"\n        color=\"secondary\"\n      >\n        <template v-slot:selected-item=\"scope\">\n          <q-chip\n            removable\n            dense\n            @remove=\"scope.removeAtIndex(scope.index)\"\n            :tabindex=\"scope.tabindex\"\n            color=\"teal\"\n            text-color=\"white\"\n            class=\"q-ma-none\"\n          >\n            <q-avatar\n              color=\"teal\"\n              text-color=\"white\"\n              :icon=\"scope.opt.icon\"\n            />\n            {{ scope.opt.label }}\n          </q-chip>\n        </template>\n      </q-select>\n       <div class=\"q-mb-sm\" style=\"margin-left: 10px; margin-bottom: 10px; margin-top: 10px\">\n      <q-badge color=\"teal\">\n       As-Of: {{ date }}\n      </q-badge>\n    </div>\n    <q-btn icon=\"event\" round color=\"primary\" style=\"margin-left: 10px; margin-bottom: 10px\">\n      <q-popup-proxy @before-show=\"updateProxy\" transition-show=\"scale\" transition-hide=\"scale\">\n        <q-date v-model=\"proxyDate\">\n          <div class=\"row items-center justify-end q-gutter-sm\">\n            <q-btn label=\"Cancel\" color=\"primary\" flat v-close-popup />\n            <q-btn label=\"OK\" color=\"primary\" flat @click=\"save\" v-close-popup />\n          </div>\n        </q-date>\n      </q-popup-proxy>\n    </q-btn>\n    </q-card>\n    </div>\n  </div>\n</template>\n<script>\nconst axios = require(\"axios\");\nconst token = localStorage.getItem(\"user-token\");\nconst instance = axios.create({\n  baseURL: \"http://localhost:8000/api/\",\n  headers: {\n    Authorization: \"Bearer \" + token,\n  },\n});\n\nexport default {\n  data() {\n    return {\n      branch: null,\n      options: [],\n      date: '2021/06/18',\n      proxyDate: '2021/06/18'\n    };\n  },\n  methods: {\n    factoryFn(files) {\n      const fileData = new FormData();\n      fileData.append(\"file_path\", files[0]);\n      fileData.append(\"branch\", this.branch.value);\n      fileData.append(\"date\", this.proxyDate);\n      axios\n        .post(\"http://localhost:8000/api/import/inventory\", fileData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then(\n          (res) => {\n            console.log(res);\n          },\n          (err) => {\n            console.log(err);\n          }\n        );\n    },\n    branches(){\n       instance.get('/branches/get').then((res)=>{\n         let branches = [];\n          res.data.forEach(element => {\n            branches.push({label: element.branch,value: element.id, icon: 'house'})\n          });\n          this.options = branches;\n       })\n      \n    },\n    updateProxy () {\n      this.proxyDate = this.date\n    },\n\n    save () {\n      this.date = this.proxyDate\n    }\n  },\n  mounted(){\n    this.branches()\n  }\n};\n</script>"]}]}