{"remainingRequest":"/var/www/html/new-project-portal/vue-main-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/new-project-portal/vue-main-front/src/components/Auth/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/new-project-portal/vue-main-front/src/components/Auth/login.vue","mtime":1623637085709},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CiAKY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlci10b2tlbiIpOwpjb25zdCBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvIiwKICBoZWFkZXJzOiB7CiAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0b2tlbiwKICB9LAp9KTsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICJMb2dpbiIsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgbmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiAiIiwKICAgICAgcmVnaXN0ZXI6IGZhbHNlLAogICAgICBwYXNzd29yZEZpZWxkVHlwZTogInBhc3N3b3JkIiwKICAgICAgYnRuTGFiZWw6ICJMb2dpbiIsCiAgICAgIHZpc2liaWxpdHk6IGZhbHNlLAogICAgICB2aXNpYmlsaXR5SWNvbjogInZpc2liaWxpdHkiLAogCiAKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogCiAgICByZXF1aXJlZCh2YWwpIHsKICAgICAgcmV0dXJuICh2YWwgJiYgdmFsLmxlbmd0aCA+IDApIHx8ICJQbGVhc2UgZW50ZXIgcGFzc3dvcmQiOwogICAgfSwKICAgIGRpZmZQYXNzd29yZCh2YWwpIHsKICAgICAgY29uc3QgdmFsMiA9IHRoaXMuJHJlZnMucGFzc3dvcmQudmFsdWU7CiAgICAgIHJldHVybiAodmFsICYmIHZhbCA9PT0gdmFsMikgfHwgIlBhc3N3b3JkIGRvZXMgbm90IG1hdGNoISI7CiAgICB9LAogICAgc2hvcnQodmFsKSB7CiAgICAgIHJldHVybiAodmFsICYmIHZhbC5sZW5ndGggPiAzKSB8fCAiVGhlIFZhbHVlIGlzIHRvIHNob3J0IjsKICAgIH0sCiAgICBpc0VtYWlsKHZhbCkgewogICAgICBjb25zdCBlbWFpbFBhdHRlcm4gPSAvXig/PVthLXpBLVowLTlALl8lKy1dezYsMjU0fSQpW2EtekEtWjAtOS5fJSstXXsxLDY0fUAoPzpbYS16QS1aMC05LV17MSw2M31cLil7MSw4fVthLXpBLVpdezIsNjN9JC87CiAgICAgIHJldHVybiBlbWFpbFBhdHRlcm4udGVzdCh2YWwpIHx8ICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCI7CiAgICB9LAogCiAgICAKICAgIHN1Ym1pdCgpIHsKICAgICAgaWYgKHRoaXMucmVnaXN0ZXIpIHsKICAgICAgICB0aGlzLiRyZWZzLmVtYWlsLnZhbGlkYXRlKCk7CiAgICAgICAgdGhpcy4kcmVmcy5uYW1lLnZhbGlkYXRlKCk7CiAgICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZC52YWxpZGF0ZSgpOwogICAgICAgIHRoaXMuJHJlZnMucmVwYXNzd29yZC52YWxpZGF0ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuZW1haWwudmFsaWRhdGUoKTsKICAgICAgICB0aGlzLiRyZWZzLnBhc3N3b3JkLnZhbGlkYXRlKCk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5yZWdpc3RlcikKICAgICAgICBpZiAoIXRoaXMuJHJlZnMuZW1haWwuaGFzRXJyb3IgJiYgIXRoaXMuJHJlZnMucGFzc3dvcmQuaGFzRXJyb3IpIHsKICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgaWNvbjogImRvbmUiLAogICAgICAgICAgICBjb2xvcjogInBvc2l0aXZlIiwKICAgICAgICAgICAgbWVzc2FnZTogIkxvZ2luIiwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sCiAgICBzd2l0Y2hUeXBlRm9ybSgpIHsKICAgICAgdGhpcy5yZWdpc3RlciA9ICF0aGlzLnJlZ2lzdGVyOwogICAgICB0aGlzLnRpdGxlID0gdGhpcy5yZWdpc3RlciA/ICJDcmVhdGUgQWNjb3VudCIgOiAiTG9naW4iOwogICAgICB0aGlzLmJ0bkxhYmVsID0gdGhpcy5yZWdpc3RlciA/ICJSZWdpc3RlciIgOiAiTG9naW4iOwogICAgfSwKIAogCiAgICBzd2l0Y2hWaXNpYmlsaXR5KCkgewogICAgICB0aGlzLnZpc2liaWxpdHkgPSAhdGhpcy52aXNpYmlsaXR5OwogICAgICB0aGlzLnBhc3N3b3JkRmllbGRUeXBlID0gdGhpcy52aXNpYmlsaXR5ID8gInRleHQiIDogInBhc3N3b3JkIjsKICAgICAgdGhpcy52aXNpYmlsaXR5SWNvbiA9IHRoaXMudmlzaWJpbGl0eSA/ICJ2aXNpYmlsaXR5X29mZiIgOiAidmlzaWJpbGl0eSI7CiAgICB9LAogICAgbG9naW4oKSB7CiAgICAgIHRoaXMuJHJlZnMuZW1haWwudmFsaWRhdGUoKTsKICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZC52YWxpZGF0ZSgpOwogICAgICBpZiAodGhpcy4kcmVmcy5wYXNzd29yZC52YWxpZGF0ZSgpICYmIHRoaXMuJHJlZnMuZW1haWwudmFsaWRhdGUoKSkgewogICAgICAgIGluc3RhbmNlCiAgICAgICAgICAucG9zdCgiL2xvZ2luL3VzZXIiLCB7CiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigKICAgICAgICAgICAgKHJlc3ApID0+IHsKICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHJlc3AuZGF0YS5hY2Nlc3NfdG9rZW47CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXItdG9rZW4iLCB0b2tlbik7IC8vIHN0b3JlIHRoZSB0b2tlbiBpbiBsb2NhbHN0b3JhZ2UKICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vIHlvdSBoYXZlIHlvdXIgdG9rZW4sIG5vdyBsb2cgaW4geW91ciB1c2VyIDopCgogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAKCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXItdG9rZW4iKTsgLy8gaWYgdGhlIHJlcXVlc3QgZmFpbHMsIHJlbW92ZSBhbnkgcG9zc2libGUgdXNlciB0b2tlbiBpZiBwb3NzaWJsZQogICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICB9CiAgICB9LAogICAgCiAKICAgIHJlZygpIHsKICAgICAgaW5zdGFuY2UKICAgICAgICAucG9zdCgiL3JlZ2lzdGVyL3VzZXIiLCB7CiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiB0aGlzLnBhc3N3b3JkX2NvbmZpcm1hdGlvbiwKICAgICAgICB9KQogICAgICAgIC50aGVuKAogICAgICAgICAgKCkgPT4gewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgfSwKICAgICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICIiICsgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMuZW1haWxbMF0gKyAiIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuJHEubm90aWZ5KHsKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIiIgKyBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9ycy5uYW1lWzBdICsgIiIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICIiICsgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMucGFzc3dvcmRbMF0gKyAiIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgIH0sCiAgfSwKIAp9Owo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"login.vue","sourceRoot":"src/components/Auth","sourcesContent":["<template>\n  <div id=\"q-app\">\n    <q-layout view=\"lHh Lpr fff\">\n      <q-page\n        class=\"window-height window-width row justify-center items-center\"\n        style=\"background: linear-gradient(#ccebff, #99d6ff)\"\n      >\n        <div class=\"column q-pa-md\">\n          <div class=\"row\">\n            <q-card\n              square\n              class=\"shadow-24\"\n              style=\"width: 330px; height: 550px\"\n            >\n              <q-card-section class=\"bg-blue-4\">\n                <q-item-label class=\"text-white q-my-md\">{{\n                  title\n                }}</q-item-label>\n              </q-card-section>\n              <q-card-section>\n                <!-- <q-fab\n                  color=\"primary\"\n                  @click=\"switchTypeForm\"\n                  icon=\"add\"\n                  class=\"absolute\"\n                  style=\"top: 0; right: 12px; transform: translateY(-50%)\"\n                >\n                </q-fab> -->\n                <q-form class=\"q-px-sm q-pt-xs\">\n                  <q-input\n                    ref=\"email\"\n                    square\n                    clearable\n                    v-model=\"email\"\n                    type=\"email\"\n                    lazy-rules\n                    dense\n                    :rules=\"[this.required, this.isEmail, this.short]\"\n                    label=\"Email\"\n                  >\n                    <template v-slot:prepend>\n                      <q-icon name=\"email\" />\n                    </template>\n                  </q-input>\n                  <q-input\n                    ref=\"username\"\n                    v-if=\"register\"\n                    square\n                    clearable\n                    v-model=\"name\"\n                    lazy-rules\n                    dense\n                    :rules=\"[this.required, this.short]\"\n                    type=\"username\"\n                    label=\"Username\"\n                  >\n                    <template v-slot:prepend>\n                      <q-icon name=\"person\" />\n                    </template>\n                  </q-input>\n                  <q-input\n                    ref=\"password\"\n                    square\n                    clearable\n                    v-model=\"password\"\n                    :type=\"passwordFieldType\"\n                    lazy-rules\n                    dense\n                    :rules=\"[this.required, this.short]\"\n                    label=\"Password\"\n                  >\n                    <template v-slot:prepend>\n                      <q-icon name=\"lock\" />\n                    </template>\n                    <template v-slot:append>\n                      <q-icon\n                        :name=\"visibilityIcon\"\n                        @click=\"switchVisibility\"\n                        class=\"cursor-pointer\"\n                      />\n                    </template>\n                  </q-input>\n                  <q-input\n                    ref=\"password_confirmation\"\n                    v-if=\"register\"\n                    square\n                    clearable\n                    v-model=\"password_confirmation\"\n                    :type=\"passwordFieldType\"\n                    lazy-rules\n                    dense\n                    :rules=\"[this.required, this.short, this.diffPassword]\"\n                    label=\"Password\"\n                  >\n                    <template v-slot:prepend>\n                      <q-icon name=\"lock\" />\n                    </template>\n                    <template v-slot:append>\n                      <q-icon\n                        :name=\"visibilityIcon\"\n                        @click=\"switchVisibility\"\n                        class=\"cursor-pointer\"\n                      />\n                    </template>\n                  </q-input>\n                </q-form>\n              </q-card-section>\n              \n\n              <q-card-actions class=\"q-px-lg\">\n                <q-btn\n                 \n                  unelevated\n                  size=\"lg\"\n                  color=\"secondary\"\n                  @click=\"btnLabel == 'Login' ? login() : reg()\"\n                  dense\n                  class=\"full-width text-white\"\n                  :label=\"btnLabel\"\n                />\n               \n              </q-card-actions>\n               \n            </q-card>\n          </div>\n        </div>\n      </q-page>\n    </q-layout>\n  </div>\n</template>\n <script>\nimport axios from \"axios\";\n \nconst token = localStorage.getItem(\"user-token\");\nconst instance = axios.create({\n  baseURL: \"http://localhost:8000/api/\",\n  headers: {\n    Authorization: \"Bearer \" + token,\n  },\n});\n\nexport default {\n  data() {\n    return {\n      title: \"Login\",\n      email: \"\",\n      name: \"\",\n      password: \"\",\n      password_confirmation: \"\",\n      register: false,\n      passwordFieldType: \"password\",\n      btnLabel: \"Login\",\n      visibility: false,\n      visibilityIcon: \"visibility\",\n \n \n    };\n  },\n\n  methods: {\n \n    required(val) {\n      return (val && val.length > 0) || \"Please enter password\";\n    },\n    diffPassword(val) {\n      const val2 = this.$refs.password.value;\n      return (val && val === val2) || \"Password does not match!\";\n    },\n    short(val) {\n      return (val && val.length > 3) || \"The Value is to short\";\n    },\n    isEmail(val) {\n      const emailPattern = /^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\\.){1,8}[a-zA-Z]{2,63}$/;\n      return emailPattern.test(val) || \"Please enter a valid email\";\n    },\n \n    \n    submit() {\n      if (this.register) {\n        this.$refs.email.validate();\n        this.$refs.name.validate();\n        this.$refs.password.validate();\n        this.$refs.repassword.validate();\n      } else {\n        this.$refs.email.validate();\n        this.$refs.password.validate();\n      }\n\n      if (!this.register)\n        if (!this.$refs.email.hasError && !this.$refs.password.hasError) {\n          this.$q.notify({\n            icon: \"done\",\n            color: \"positive\",\n            message: \"Login\",\n          });\n        }\n    },\n    switchTypeForm() {\n      this.register = !this.register;\n      this.title = this.register ? \"Create Account\" : \"Login\";\n      this.btnLabel = this.register ? \"Register\" : \"Login\";\n    },\n \n \n    switchVisibility() {\n      this.visibility = !this.visibility;\n      this.passwordFieldType = this.visibility ? \"text\" : \"password\";\n      this.visibilityIcon = this.visibility ? \"visibility_off\" : \"visibility\";\n    },\n    login() {\n      this.$refs.email.validate();\n      this.$refs.password.validate();\n      if (this.$refs.password.validate() && this.$refs.email.validate()) {\n        instance\n          .post(\"/login/user\", {\n            email: this.email,\n            password: this.password,\n          })\n          .then(\n            (resp) => {\n              const token = resp.data.access_token;\n              localStorage.setItem(\"user-token\", token); // store the token in localstorage\n             \n              // you have your token, now log in your user :)\n\n              this.$router.push(\"/\");\n            },\n            () => {\n              this.$router.push(\"/\");\n         \n\n              localStorage.removeItem(\"user-token\"); // if the request fails, remove any possible user token if possible\n            }\n          );\n      }\n    },\n    \n \n    reg() {\n      instance\n        .post(\"/register/user\", {\n          name: this.name,\n          email: this.email,\n          password: this.password,\n          password_confirmation: this.password_confirmation,\n        })\n        .then(\n          () => {\n            this.$router.push(\"/\");\n          },\n          (error) => {\n            this.$q.notify({\n              type: \"warning\",\n              message: \"\" + error.response.data.errors.email[0] + \"\",\n            });\n            this.$q.notify({\n              type: \"warning\",\n              message: \"\" + error.response.data.errors.name[0] + \"\",\n            });\n            this.$q.notify({\n              type: \"warning\",\n              message: \"\" + error.response.data.errors.password[0] + \"\",\n            });\n          }\n        );\n    },\n  },\n \n};\n</script>\n "]}]}