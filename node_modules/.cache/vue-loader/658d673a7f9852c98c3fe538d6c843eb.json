{"remainingRequest":"/var/www/html/new-project-portal/vue-main-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/new-project-portal/vue-main-front/src/components/Auth/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/new-project-portal/vue-main-front/src/components/Auth/login.vue","mtime":1623919911487},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/new-project-portal/vue-main-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXItdG9rZW4iKTsKY29uc3QgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICJodHRwczovL2FwcGxldHJvbmljcy1hcGkud2VicG9ydGFsLmFjL2FwaS8iLAogIGhlYWRlcnM6IHsKICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIHRva2VuLAogIH0sCn0pOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIkFwcGxldHJvbmljcyBQb3J0YWwiLAogICAgICBlbWFpbDogIiIsCiAgICAgIG5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogIiIsCiAgICAgIHJlZ2lzdGVyOiBmYWxzZSwKICAgICAgcGFzc3dvcmRGaWVsZFR5cGU6ICJwYXNzd29yZCIsCiAgICAgIGJ0bkxhYmVsOiAiTG9naW4iLAogICAgICB2aXNpYmlsaXR5OiBmYWxzZSwKICAgICAgdmlzaWJpbGl0eUljb246ICJ2aXNpYmlsaXR5IiwKIAogCiAgICB9OwogIH0sCgogIG1ldGhvZHM6IHsKIAogICAgcmVxdWlyZWQodmFsKSB7CiAgICAgIHJldHVybiAodmFsICYmIHZhbC5sZW5ndGggPiAwKSB8fCAiUGxlYXNlIGVudGVyIHBhc3N3b3JkIjsKICAgIH0sCiAgICBkaWZmUGFzc3dvcmQodmFsKSB7CiAgICAgIGNvbnN0IHZhbDIgPSB0aGlzLiRyZWZzLnBhc3N3b3JkLnZhbHVlOwogICAgICByZXR1cm4gKHZhbCAmJiB2YWwgPT09IHZhbDIpIHx8ICJQYXNzd29yZCBkb2VzIG5vdCBtYXRjaCEiOwogICAgfSwKICAgIHNob3J0KHZhbCkgewogICAgICByZXR1cm4gKHZhbCAmJiB2YWwubGVuZ3RoID4gMykgfHwgIlRoZSBWYWx1ZSBpcyB0byBzaG9ydCI7CiAgICB9LAogICAgaXNFbWFpbCh2YWwpIHsKICAgICAgY29uc3QgZW1haWxQYXR0ZXJuID0gL14oPz1bYS16QS1aMC05QC5fJSstXXs2LDI1NH0kKVthLXpBLVowLTkuXyUrLV17MSw2NH1AKD86W2EtekEtWjAtOS1dezEsNjN9XC4pezEsOH1bYS16QS1aXXsyLDYzfSQvOwogICAgICByZXR1cm4gZW1haWxQYXR0ZXJuLnRlc3QodmFsKSB8fCAiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwiOwogICAgfSwKIAogICAgCiAgICBzdWJtaXQoKSB7CiAgICAgIGlmICh0aGlzLnJlZ2lzdGVyKSB7CiAgICAgICAgdGhpcy4kcmVmcy5lbWFpbC52YWxpZGF0ZSgpOwogICAgICAgIHRoaXMuJHJlZnMubmFtZS52YWxpZGF0ZSgpOwogICAgICAgIHRoaXMuJHJlZnMucGFzc3dvcmQudmFsaWRhdGUoKTsKICAgICAgICB0aGlzLiRyZWZzLnJlcGFzc3dvcmQudmFsaWRhdGUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLmVtYWlsLnZhbGlkYXRlKCk7CiAgICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZC52YWxpZGF0ZSgpOwogICAgICB9CgogICAgICBpZiAoIXRoaXMucmVnaXN0ZXIpCiAgICAgICAgaWYgKCF0aGlzLiRyZWZzLmVtYWlsLmhhc0Vycm9yICYmICF0aGlzLiRyZWZzLnBhc3N3b3JkLmhhc0Vycm9yKSB7CiAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgIGljb246ICJkb25lIiwKICAgICAgICAgICAgY29sb3I6ICJwb3NpdGl2ZSIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJMb2dpbiIsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAogICAgc3dpdGNoVHlwZUZvcm0oKSB7CiAgICAgIHRoaXMucmVnaXN0ZXIgPSAhdGhpcy5yZWdpc3RlcjsKICAgICAgdGhpcy50aXRsZSA9IHRoaXMucmVnaXN0ZXIgPyAiQ3JlYXRlIEFjY291bnQiIDogIkxvZ2luIjsKICAgICAgdGhpcy5idG5MYWJlbCA9IHRoaXMucmVnaXN0ZXIgPyAiUmVnaXN0ZXIiIDogIkxvZ2luIjsKICAgIH0sCiAKIAogICAgc3dpdGNoVmlzaWJpbGl0eSgpIHsKICAgICAgdGhpcy52aXNpYmlsaXR5ID0gIXRoaXMudmlzaWJpbGl0eTsKICAgICAgdGhpcy5wYXNzd29yZEZpZWxkVHlwZSA9IHRoaXMudmlzaWJpbGl0eSA/ICJ0ZXh0IiA6ICJwYXNzd29yZCI7CiAgICAgIHRoaXMudmlzaWJpbGl0eUljb24gPSB0aGlzLnZpc2liaWxpdHkgPyAidmlzaWJpbGl0eV9vZmYiIDogInZpc2liaWxpdHkiOwogICAgfSwKICAgIGxvZ2luKCkgewogICAgICB0aGlzLiRyZWZzLmVtYWlsLnZhbGlkYXRlKCk7CiAgICAgIHRoaXMuJHJlZnMucGFzc3dvcmQudmFsaWRhdGUoKTsKICAgICAgaWYgKHRoaXMuJHJlZnMucGFzc3dvcmQudmFsaWRhdGUoKSAmJiB0aGlzLiRyZWZzLmVtYWlsLnZhbGlkYXRlKCkpIHsKICAgICAgICBpbnN0YW5jZQogICAgICAgICAgLnBvc3QoIi9sb2dpbi91c2VyIiwgewogICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oCiAgICAgICAgICAgIChyZXNwKSA9PiB7CiAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSByZXNwLmRhdGEuYWNjZXNzX3Rva2VuOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyLXRva2VuIiwgdG9rZW4pOyAvLyBzdG9yZSB0aGUgdG9rZW4gaW4gbG9jYWxzdG9yYWdlCiAgICAgICAgICAgICAKICAgICAgICAgICAgICAvLyB5b3UgaGF2ZSB5b3VyIHRva2VuLCBub3cgbG9nIGluIHlvdXIgdXNlciA6KQoKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgCgogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyLXRva2VuIik7IC8vIGlmIHRoZSByZXF1ZXN0IGZhaWxzLCByZW1vdmUgYW55IHBvc3NpYmxlIHVzZXIgdG9rZW4gaWYgcG9zc2libGUKICAgICAgICAgICAgfQogICAgICAgICAgKTsKICAgICAgfQogICAgfSwKICAgIAogCiAgICByZWcoKSB7CiAgICAgIGluc3RhbmNlCiAgICAgICAgLnBvc3QoIi9yZWdpc3Rlci91c2VyIiwgewogICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogdGhpcy5wYXNzd29yZF9jb25maXJtYXRpb24sCiAgICAgICAgfSkKICAgICAgICAudGhlbigKICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgIH0sCiAgICAgICAgICAoZXJyb3IpID0+IHsKICAgICAgICAgICAgdGhpcy4kcS5ub3RpZnkoewogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAiIiArIGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzLmVtYWlsWzBdICsgIiIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRxLm5vdGlmeSh7CiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICIiICsgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMubmFtZVswXSArICIiLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy4kcS5ub3RpZnkoewogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAiIiArIGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzLnBhc3N3b3JkWzBdICsgIiIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICk7CiAgICB9LAogIH0sCiAKfTsK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"login.vue","sourceRoot":"src/components/Auth","sourcesContent":["\n<template>\n  <div id=\"q-app\">\n    <q-layout view=\"lHh Lpr fff\">\n      <q-page\n        class=\"window-height window-width row justify-center items-center  hero-image\"\n      >\n        <div class=\"column q-pa-md\">\n          <div class=\"row\">\n            <q-card\n              square\n              class=\"shadow-24\"\n              style=\"width: 330px; height: 400px\"\n            >\n              <q-card-section class=\"bg-blue-4\">\n                <q-item-label class=\"text-white q-my-md\">\n                  <img src=\"nav.jpg\" style=\"width: 300px; height: 70px\" />\n                </q-item-label>\n              </q-card-section>\n              <q-card-section>\n                <!-- <q-fab\n                  color=\"primary\"\n                  @click=\"switchTypeForm\"\n                  icon=\"add\"\n                  class=\"absolute\"\n                  style=\"top: 0; right: 12px; transform: translateY(-50%)\"\n                >\n                </q-fab> -->\n                <q-form class=\"q-px-sm q-pt-xs\">\n                  <q-input\n                    ref=\"email\"\n                    square\n                    clearable\n                    v-model=\"email\"\n                    type=\"email\"\n                    lazy-rules\n                    dense\n                    :rules=\"[this.required, this.isEmail, this.short]\"\n                    label=\"Email\"\n                  >\n                    <template v-slot:prepend>\n                      <q-icon name=\"email\" />\n                    </template>\n                  </q-input>\n                  <q-input\n                    ref=\"username\"\n                    v-if=\"register\"\n                    square\n                    clearable\n                    v-model=\"name\"\n                    lazy-rules\n                    dense\n                    :rules=\"[this.required, this.short]\"\n                    type=\"username\"\n                    label=\"Username\"\n                  >\n                    <template v-slot:prepend>\n                      <q-icon name=\"person\" />\n                    </template>\n                  </q-input>\n                  <q-input\n                    ref=\"password\"\n                    square\n                    clearable\n                    v-model=\"password\"\n                    :type=\"passwordFieldType\"\n                    lazy-rules\n                    dense\n                    :rules=\"[this.required, this.short]\"\n                    label=\"Password\"\n                  >\n                    <template v-slot:prepend>\n                      <q-icon name=\"lock\" />\n                    </template>\n                    <template v-slot:append>\n                      <q-icon\n                        :name=\"visibilityIcon\"\n                        @click=\"switchVisibility\"\n                        class=\"cursor-pointer\"\n                      />\n                    </template>\n                  </q-input>\n                  <q-input\n                    ref=\"password_confirmation\"\n                    v-if=\"register\"\n                    square\n                    clearable\n                    v-model=\"password_confirmation\"\n                    :type=\"passwordFieldType\"\n                    lazy-rules\n                    dense\n                    :rules=\"[this.required, this.short, this.diffPassword]\"\n                    label=\"Password\"\n                  >\n                    <template v-slot:prepend>\n                      <q-icon name=\"lock\" />\n                    </template>\n                    <template v-slot:append>\n                      <q-icon\n                        :name=\"visibilityIcon\"\n                        @click=\"switchVisibility\"\n                        class=\"cursor-pointer\"\n                      />\n                    </template>\n                  </q-input>\n                </q-form>\n              </q-card-section>\n              \n\n              <q-card-actions class=\"q-px-lg\">\n                <q-btn\n                 \n                  unelevated\n                  size=\"lg\"\n                  color=\"secondary\"\n                  @click=\"btnLabel == 'Login' ? login() : reg()\"\n                  dense\n                  class=\"full-width text-white\"\n                  :label=\"btnLabel\"\n                />\n               \n              </q-card-actions>\n              \n            </q-card>\n            \n          </div>\n        </div>\n   \n\n      </q-page>\n    <div id=\"footer\">\n                  © Copyright 2021 Appletronics | Stevefox_Linux \n    </div>\n    </q-layout>\n    \n  </div>\n</template>\n <script>\nimport axios from \"axios\";\nconst token = localStorage.getItem(\"user-token\");\nconst instance = axios.create({\n  baseURL: \"https://appletronics-api.webportal.ac/api/\",\n  headers: {\n    Authorization: \"Bearer \" + token,\n  },\n});\n\nexport default {\n  data() {\n    return {\n      title: \"Appletronics Portal\",\n      email: \"\",\n      name: \"\",\n      password: \"\",\n      password_confirmation: \"\",\n      register: false,\n      passwordFieldType: \"password\",\n      btnLabel: \"Login\",\n      visibility: false,\n      visibilityIcon: \"visibility\",\n \n \n    };\n  },\n\n  methods: {\n \n    required(val) {\n      return (val && val.length > 0) || \"Please enter password\";\n    },\n    diffPassword(val) {\n      const val2 = this.$refs.password.value;\n      return (val && val === val2) || \"Password does not match!\";\n    },\n    short(val) {\n      return (val && val.length > 3) || \"The Value is to short\";\n    },\n    isEmail(val) {\n      const emailPattern = /^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\\.){1,8}[a-zA-Z]{2,63}$/;\n      return emailPattern.test(val) || \"Please enter a valid email\";\n    },\n \n    \n    submit() {\n      if (this.register) {\n        this.$refs.email.validate();\n        this.$refs.name.validate();\n        this.$refs.password.validate();\n        this.$refs.repassword.validate();\n      } else {\n        this.$refs.email.validate();\n        this.$refs.password.validate();\n      }\n\n      if (!this.register)\n        if (!this.$refs.email.hasError && !this.$refs.password.hasError) {\n          this.$q.notify({\n            icon: \"done\",\n            color: \"positive\",\n            message: \"Login\",\n          });\n        }\n    },\n    switchTypeForm() {\n      this.register = !this.register;\n      this.title = this.register ? \"Create Account\" : \"Login\";\n      this.btnLabel = this.register ? \"Register\" : \"Login\";\n    },\n \n \n    switchVisibility() {\n      this.visibility = !this.visibility;\n      this.passwordFieldType = this.visibility ? \"text\" : \"password\";\n      this.visibilityIcon = this.visibility ? \"visibility_off\" : \"visibility\";\n    },\n    login() {\n      this.$refs.email.validate();\n      this.$refs.password.validate();\n      if (this.$refs.password.validate() && this.$refs.email.validate()) {\n        instance\n          .post(\"/login/user\", {\n            email: this.email,\n            password: this.password,\n          })\n          .then(\n            (resp) => {\n              const token = resp.data.access_token;\n              localStorage.setItem(\"user-token\", token); // store the token in localstorage\n             \n              // you have your token, now log in your user :)\n\n              this.$router.push(\"/\");\n            },\n            () => {\n              this.$router.push(\"/\");\n         \n\n              localStorage.removeItem(\"user-token\"); // if the request fails, remove any possible user token if possible\n            }\n          );\n      }\n    },\n    \n \n    reg() {\n      instance\n        .post(\"/register/user\", {\n          name: this.name,\n          email: this.email,\n          password: this.password,\n          password_confirmation: this.password_confirmation,\n        })\n        .then(\n          () => {\n            this.$router.push(\"/\");\n          },\n          (error) => {\n            this.$q.notify({\n              type: \"warning\",\n              message: \"\" + error.response.data.errors.email[0] + \"\",\n            });\n            this.$q.notify({\n              type: \"warning\",\n              message: \"\" + error.response.data.errors.name[0] + \"\",\n            });\n            this.$q.notify({\n              type: \"warning\",\n              message: \"\" + error.response.data.errors.password[0] + \"\",\n            });\n          }\n        );\n    },\n  },\n \n};\n</script>\n <style>\n  .hero-image {\n    background-image: url(\"https://appletronics.webportal.ac/login.jpg\");\n \n    background-color: #cccccc;\n    height: 500px;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    position: relative;\n  }\n  #footer {\n    position: absolute;\n    bottom: 0px;\n    background-color: #80ccff;\n    width: 100%;\n    text-align: center;\n}\n </style>\n "]}]}