(function(e){function t(t){for(var a,n,o=t[0],l=t[1],c=t[2],u=0,p=[];u<o.length;u++)n=o[u],i[n]&&p.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},i={app:0},r=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0872":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a,i,r,n=s("2b0e"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("link",{attrs:{href:"/googleapis-materials.css",rel:"stylesheet"}}),s("link",{attrs:{rel:"dns-prefetch",href:"//fonts.gstatic.com"}}),s("link",{attrs:{href:"/font.css",rel:"stylesheet"}}),s("DashView",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},l=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("router-view")],1)},d=[],u=s("2877"),p={},h=Object(u["a"])(p,c,d,!1,null,null,null),m=h.exports,f={name:"App",components:{DashView:m}},b=f,g=Object(u["a"])(b,o,l,!1,null,null,null),q=g.exports,v=(s("9cd7"),s("089b"),s("8c4f")),w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"q-app"}},[s("q-layout",{attrs:{view:"lHh Lpr fff"}},[s("q-page",{staticClass:"window-height window-width row justify-center items-center  hero-image"},[s("div",{staticClass:"column q-pa-md"},[s("div",{staticClass:"row"},[s("q-card",{staticClass:"shadow-24",staticStyle:{width:"330px",height:"400px"},attrs:{square:""}},[s("q-card-section",{staticClass:"bg-blue-4"},[s("q-item-label",{staticClass:"text-white q-my-md"},[e._v("\n                Addessa MessageCast\n                ")])],1),s("q-card-section",[s("q-form",{staticClass:"q-px-sm q-pt-xs"},[s("q-input",{ref:"email",attrs:{square:"",clearable:"",type:"email","lazy-rules":"",dense:"",rules:[this.required,this.isEmail,this.short],label:"Email"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e.register?s("q-input",{ref:"username",attrs:{square:"",clearable:"","lazy-rules":"",dense:"",rules:[this.required,this.short],type:"username",label:"Username"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"person"}})]},proxy:!0}],null,!1,3962637177),model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}):e._e(),s("q-input",{ref:"password",attrs:{square:"",clearable:"",type:e.passwordFieldType,"lazy-rules":"",dense:"",rules:[this.required,this.short],label:"Password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.visibilityIcon},on:{click:e.switchVisibility}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.register?s("q-input",{ref:"password_confirmation",attrs:{square:"",clearable:"",type:e.passwordFieldType,"lazy-rules":"",dense:"",rules:[this.required,this.short,this.diffPassword],label:"Password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.visibilityIcon},on:{click:e.switchVisibility}})]},proxy:!0}],null,!1,2998201076),model:{value:e.password_confirmation,callback:function(t){e.password_confirmation=t},expression:"password_confirmation"}}):e._e()],1)],1),s("q-card-actions",{staticClass:"q-px-lg"},[s("q-btn",{staticClass:"full-width text-white",attrs:{unelevated:"",size:"lg",color:"secondary",dense:"",label:e.btnLabel},on:{click:function(t){"Login"==e.btnLabel?e.login():e.reg()}}})],1)],1)],1)])]),s("div",{attrs:{id:"footer"}},[e._v("\n                © Copyright 2021 MessageCast | Stevefox_Linux \n  ")])],1)],1)},y=[],x=(s("b0c0"),s("bc3a")),k=s.n(x),_=localStorage.getItem("user-token"),R=k.a.create({baseURL:"http://127.0.0.1:8000/api/",headers:{Authorization:"Bearer "+_}}),P={data:function(){return{title:"Appletronics Portal",email:"",name:"",password:"",password_confirmation:"",register:!1,passwordFieldType:"password",btnLabel:"Login",visibility:!1,visibilityIcon:"visibility"}},methods:{required:function(e){return e&&e.length>0||"Please enter password"},diffPassword:function(e){var t=this.$refs.password.value;return e&&e===t||"Password does not match!"},short:function(e){return e&&e.length>3||"The Value is to short"},isEmail:function(e){var t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Please enter a valid email"},submit:function(){this.register?(this.$refs.email.validate(),this.$refs.name.validate(),this.$refs.password.validate(),this.$refs.repassword.validate()):(this.$refs.email.validate(),this.$refs.password.validate()),this.register||this.$refs.email.hasError||this.$refs.password.hasError||this.$q.notify({icon:"done",color:"positive",message:"Login"})},switchTypeForm:function(){this.register=!this.register,this.title=this.register?"Create Account":"Login",this.btnLabel=this.register?"Register":"Login"},switchVisibility:function(){this.visibility=!this.visibility,this.passwordFieldType=this.visibility?"text":"password",this.visibilityIcon=this.visibility?"visibility_off":"visibility"},login:function(){var e=this;this.$refs.email.validate(),this.$refs.password.validate(),this.$refs.password.validate()&&this.$refs.email.validate()&&R.post("/login/user",{email:this.email,password:this.password}).then((function(t){var s=t.data.access_token;localStorage.setItem("user-token",s),e.$router.push("/")}),(function(){e.$router.push("/"),localStorage.removeItem("user-token")}))},reg:function(){var e=this;R.post("/register/user",{name:this.name,email:this.email,password:this.password,password_confirmation:this.password_confirmation}).then((function(){e.$router.push("/")}),(function(t){e.$q.notify({type:"warning",message:""+t.response.data.errors.email[0]}),e.$q.notify({type:"warning",message:""+t.response.data.errors.name[0]}),e.$q.notify({type:"warning",message:""+t.response.data.errors.password[0]})}))}}},C=P,S=(s("62d9"),Object(u["a"])(C,w,y,!1,null,null,null)),$=S.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-md hero-image"},[s("q-layout",{attrs:{view:"hHh Lpr lff"}},[s("q-header",{staticStyle:{background:"linear-gradient(#4db8ff, #005c99)"},attrs:{elevated:""}},[s("q-toolbar",[s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(t){e.drawer=!e.drawer}}}),s("q-toolbar-title",[e._v("WebPortal")]),s("div",{staticClass:"text-h4"},[s("q-btn",{staticClass:"glossy",attrs:{color:"teal",dense:"",icon:"menu"}},[s("q-menu",[s("div",{staticClass:"row no-wrap q-pa-md"},[s("div",{staticClass:"column"},[s("div",{staticClass:"text-h6 q-mb-md"},[e._v("Options")]),s("p",[e._v("Version 1.0")]),s("br"),s("q-btn",{attrs:{color:"teal",size:"sm",label:"About"},on:{click:function(t){return e.about()}}})],1),s("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:""}}),s("div",{staticClass:"column items-center"},[s("q-avatar",{attrs:{size:"72px"}},[s("img",{attrs:{src:"/logo.svg"}})]),s("div",{staticClass:"text-subtitle1 q-mt-md q-mb-xs"},[e._v("\n                    "+e._s(e.name)+"\n                  ")]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Logout",push:"",size:"sm"},on:{click:function(t){return e.logout()}}})],1)],1)])],1)],1)],1)],1),s("q-drawer",{attrs:{"show-if-above":"",mini:e.miniState,"mini-to-overlay":"",width:200,breakpoint:500,bordered:"","content-class":"bg-blue-3"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("q-scroll-area",{staticClass:"fit"},[s("q-list",{attrs:{padding:""}},[s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/messagecast/marketing/index"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"fas fa-sms"}})],1),s("q-item-section",[e._v(" Message Cast Marketing ")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/messagecast/branch/index"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"fas fa-comment-alt"}})],1),s("q-item-section",[e._v(" Message Cast Branch ")])],1),s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/settings"}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:"fas fa-cogs"}})],1),s("q-item-section",[e._v(" Settings ")])],1)],1)],1)],1),s("q-page-container",[s("router-view")],1)],1),s("q-dialog",{model:{value:e.inception,callback:function(t){e.inception=t},expression:"inception"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6"},[e._v("About")])]),s("q-card-section",{staticClass:"q-pt-none"},[e._v("\n        Webportal "),s("br"),e._v("\n        web base application\n      ")]),s("q-card-section",{staticClass:"q-pt-none"},[e._v("\n        System info"),s("br"),e._v("\n        The system is contain 2 separate parts, front-end and back-end"),s("br"),e._v("\n        The system is using vuetify as a front-end frameworks, and laravel for\n        the back-end frameworks\n      ")]),s("q-card-section",{staticClass:"q-pt-none"},[e._v("\n        Resources List,(Plugins)"),s("br"),e._v("\n        Quaser,Downloadjs,domPDF,Axios,Fontawesome,html2canvas\n      ")]),s("q-card-section",{staticClass:"q-pt-none"},[e._v("\n        Web Developer"),s("br"),e._v("\n        @stevefox_linux\n      ")]),s("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Close"}})],1)],1)],1),s("div",{attrs:{id:"footer"}},[e._v("\n          © Copyright 2021 Appletronics | Stevefox_Linux \n      ")])],1)},B=[],O=s("bc3a"),j=localStorage.getItem("user-token"),E=O.create({baseURL:"http://127.0.0.1:8000/api/",headers:{Authorization:"Bearer "+j}}),D={data:function(){return{name:null,inception:!1,drawer:!1,miniState:!0,showing:!1,invnty:!1}},methods:{logout:function(){localStorage.removeItem("user-token"),this.$router.push("/login")},about:function(){this.inception=!0},usersmenu:function(){this.showing=!0},invtymenu:function(){this.invnty=!0}},mounted:function(){var e=this;this.checkAuth(),E.post("/Users/Authorize").then((function(t){e.name=t.data.user.name}))}},L=D,M=(s("c34f"),Object(u["a"])(L,U,B,!1,null,null,null)),A=M.exports,z=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},F=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("branch")])])}],W={data:function(){return{}},methods:{}},T=W,N=Object(u["a"])(T,z,F,!1,null,null,null),I=(N.exports,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-md"},[s("q-card",[s("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e.hasPermission("Create User")?s("q-tab",{attrs:{name:"users",icon:"fas fa-user-plus",label:"Users"}}):e._e(),e.hasPermission("Authorization Access")?s("q-tab",{attrs:{name:"authorization",icon:"fas fa-user-cog",label:"Authorization"}}):e._e(),e.hasPermission("Create Branch")?s("q-tab",{attrs:{name:"branches",icon:"fas fa-code-branch",label:"Branches"}}):e._e()],1),s("q-separator"),s("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"authorization"}},[s("q-splitter",{staticStyle:{height:"500px"},scopedSlots:e._u([{key:"before",fn:function(){return[s("q-tabs",{staticClass:"text-teal",attrs:{vertical:""},model:{value:e.innerTab,callback:function(t){e.innerTab=t},expression:"innerTab"}},[s("q-tab",{attrs:{name:"innerRoles",icon:"fas fa-clipboard-check",label:"Roles"}}),s("q-tab",{attrs:{name:"innerPermissions",icon:"fas fa-lock",label:"Permissions"}})],1)]},proxy:!0},{key:"after",fn:function(){return[s("q-tab-panels",{attrs:{animated:"","transition-prev":"slide-down","transition-next":"slide-up"},model:{value:e.innerTab,callback:function(t){e.innerTab=t},expression:"innerTab"}},[s("q-tab-panel",{attrs:{name:"innerRoles"}},[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("q-btn",{staticStyle:{"margin-right":"5px"},attrs:{color:"teal",dense:"",icon:"far fa-plus-square"},on:{click:function(t){e.RoleCreateDialog=!0,e.SelectPermissions=[],e.RoleCreateModel=[]}}}),""!=e.selectedRole?s("q-btn",{attrs:{color:"teal",dense:"",icon:"fas fa-trash-alt"},on:{click:function(t){return e.RoleDelete()}}}):e._e()],1),s("q-table",{attrs:{dense:"",filter:e.filterRoles,title:"Roles",data:e.dataRoles,columns:e.columnsRoles,"row-key":"name","selected-rows-label":e.RoleMultipleSelect,selection:"multiple",selected:e.selectedRole},on:{"update:selected":function(t){e.selectedRole=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[s("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filterRoles,callback:function(t){e.filterRoles=t},expression:"filterRoles"}})]},proxy:!0},{key:"body-cell-permissions",fn:function(t){return[s("q-td",{attrs:{props:t}},[""!=t.row.permissions?s("div",[s("q-chip",{attrs:{color:"teal",clickable:""},on:{click:function(s){return e.morePermission({data:t.row.permissions,role:t.row.name})}}},[e._v("\n                          "+e._s(t.row.permissions[0]["name"]))]),s("label",{attrs:{clickable:""}},[e._v("\n                          "+e._s("+"+t.row.permissions.length+" others")+"\n                        ")])],1):e._e()])]}},{key:"body-cell-actions",fn:function(t){return[s("q-td",{attrs:{props:t}},[s("q-icon",{attrs:{clickable:"",name:"fas fa-edit",color:"teal",dense:""},on:{click:function(s){return e.RoleEdit({id:t.row.id,data:t.row.permissions,role:t.row.name})}}})],1)]}}])}),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.PermissionListDialog,callback:function(t){e.PermissionListDialog=t},expression:"PermissionListDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v(e._s(e.PermissionsList.role))]),s("q-card-section",{staticClass:"bg-white"},e._l(e.PermissionsList.data,(function(t){return s("div",[s("q-chip",{attrs:{color:"teal",dense:""}},[e._v(e._s(t.name))])],1)})),0),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"},on:{click:function(t){e.PermissionsList=[]}}})],1)],1)],1)],1),s("q-tab-panel",{attrs:{name:"innerPermissions"}},[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("q-btn",{staticStyle:{"margin-right":"5px"},attrs:{color:"teal",dense:"",icon:"far fa-plus-square"},on:{click:function(t){e.permissionCreateDialog=!0}}}),""!=e.selectedPermission?s("q-btn",{attrs:{color:"teal",dense:"",icon:"fas fa-trash-alt"},on:{click:e.permissionTrash}}):e._e()],1),s("q-table",{attrs:{dense:"",filter:e.filterPermissions,title:"Permissions",data:e.dataPermissions,columns:e.columnsPermissions,"row-key":"name","selected-rows-label":e.MultipleSelect,selection:"multiple",selected:e.selectedPermission},on:{"update:selected":function(t){e.selectedPermission=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[s("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filterPermissions,callback:function(t){e.filterPermissions=t},expression:"filterPermissions"}})]},proxy:!0},{key:"body-cell-actions",fn:function(t){return[s("q-td",{attrs:{props:t}},[s("q-icon",{attrs:{name:"fas fa-edit",color:"teal",dense:""},on:{click:function(s){return e.Permissionedit(t.row.id)}}})],1)]}}])})],1)],1)]},proxy:!0}]),model:{value:e.splitterModel,callback:function(t){e.splitterModel=t},expression:"splitterModel"}},[s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.RoleEditDialog,callback:function(t){e.RoleEditDialog=t},expression:"RoleEditDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v(" "+e._s(e.PermissionsList.role)+" ")]),s("q-card-section",{staticClass:"bg-white"},[s("q-input",{ref:"RequiredRole",attrs:{rules:[this.RequiredRole],square:"",outlined:"",dense:"",label:"Role Create"},model:{value:e.RoleUpdateModel,callback:function(t){e.RoleUpdateModel=t},expression:"RoleUpdateModel"}})],1),s("q-card-section",{staticClass:"bg-white"},[s("q-select",{ref:"RequiredPermission",attrs:{rules:[this.RequiredPermission],filled:"","use-input":"","use-chips":"",multiple:"","emit-value":"","map-options":"","input-debounce":"0",options:e.filterOptions},model:{value:e.SelectPermissions,callback:function(t){e.SelectPermissions=t},expression:"SelectPermissions"}})],1),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-save",label:"Update"},on:{click:function(t){return e.RoleUpdate()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"}})],1)],1)],1),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.RoleCreateDialog,callback:function(t){e.RoleCreateDialog=t},expression:"RoleCreateDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v(" Create Role")]),s("q-card-section",{staticClass:"bg-white"},[s("q-input",{ref:"RequiredRole",attrs:{rules:[this.RequiredRole],"lazy-rules":"",square:"",outlined:"",dense:"",label:"Role Create"},model:{value:e.RoleCreateModel,callback:function(t){e.RoleCreateModel=t},expression:"RoleCreateModel"}})],1),s("q-card-section",{staticClass:"bg-white"},[s("q-select",{ref:"RequiredPermission",attrs:{rules:[this.RequiredPermission],"lazy-rules":"",filled:"","use-input":"","use-chips":"",multiple:"","emit-value":"","map-options":"","input-debounce":"0",options:e.filterOptions},model:{value:e.SelectPermissions,callback:function(t){e.SelectPermissions=t},expression:"SelectPermissions"}})],1),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",icon:"fas fa-save",label:"save"},on:{click:function(t){return e.RoleCreate()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"}})],1)],1)],1),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.permissionEditDialog,callback:function(t){e.permissionEditDialog=t},expression:"permissionEditDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v("Edit Permission")]),s("q-card-section",{staticClass:"bg-white"},[s("q-input",{ref:"RequiredPermission",attrs:{rules:[this.RequiredPermission],"lazy-rules":"",square:"",outlined:"",dense:"",label:"Permission"},model:{value:e.PermissionName,callback:function(t){e.PermissionName=t},expression:"PermissionName"}})],1),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",icon:"fas fa-save",label:"save"},on:{click:function(t){return e.PermissionUpdate()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"},on:{click:function(t){e.EditedPermission=[]}}})],1)],1)],1),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.permissionCreateDialog,callback:function(t){e.permissionCreateDialog=t},expression:"permissionCreateDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v(" Create Permission ")]),s("q-card-section",{staticClass:"bg-white"},[s("q-input",{ref:"RequiredPermission",attrs:{"lazy-rules":"",square:"",outlined:"",dense:"",rules:[this.RequiredPermission],label:"Permission Create"},model:{value:e.PermissionCreateModel,callback:function(t){e.PermissionCreateModel=t},expression:"PermissionCreateModel"}})],1),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",icon:"fas fa-save",label:"save"},on:{click:function(t){return e.PermissionCreate()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"}})],1)],1)],1)],1)],1),s("q-tab-panel",{attrs:{name:"users"}},[s("div",{staticClass:"q-pa-md"},[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("q-btn",{staticStyle:{"margin-right":"5px"},attrs:{color:"teal",dense:"",icon:"far fa-plus-square"},on:{click:function(t){e.UsersCreateDialog=!0,e.email="",e.password="",e.password_confirmation="",e.SeleRoles="",e.branch=[],e.name=""}}}),""!=e.selectedUsers?s("q-btn",{attrs:{color:"teal",dense:"",icon:"fas fa-trash-alt"},on:{click:e.userDelete}}):e._e()],1),s("q-table",{attrs:{dense:"",filter:e.filterUsers,title:"Users",data:e.dataUsers,columns:e.columnsUsers,"row-key":"id","selected-rows-label":e.UsersMultipleSelect,selection:"multiple",selected:e.selectedUsers},on:{"update:selected":function(t){e.selectedUsers=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[s("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filterUsers,callback:function(t){e.filterUsers=t},expression:"filterUsers"}})]},proxy:!0},{key:"body-cell-actions",fn:function(t){return[s("q-td",{attrs:{props:t}},[s("q-icon",{attrs:{name:"fas fa-edit",color:"teal",dense:""},on:{click:function(s){return e.UsersEdit({data:t.row})}}})],1)]}},{key:"body-cell-branches",fn:function(t){return[s("q-td",{attrs:{props:t}},[t.row.branches?s("div",[e._v("\n                  "+e._s(t.row.branches.branch)+"\n                ")]):e._e()])]}},{key:"body-cell-roles",fn:function(t){return[s("q-td",{attrs:{props:t}},[""!=t.row.roles?s("div",[s("q-chip",{attrs:{color:"teal",clickable:""},on:{click:function(s){return e.moreRoles({data:t.row.roles,role:t.row.roles[0].name})}}},[e._v("\n                    "+e._s(t.row.roles[0].name))]),s("label",{attrs:{clickable:""}},[e._v("\n                    "+e._s("+"+t.row.roles.length+" others")+"\n                  ")])],1):e._e()])]}}])}),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.UsersCreateDialog,callback:function(t){e.UsersCreateDialog=t},expression:"UsersCreateDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v(" Create User ")]),s("q-card-section",{staticClass:"bg-white"},[s("q-input",{ref:"email",attrs:{square:"",clearable:"",type:"email","lazy-rules":"",dense:"",rules:[this.required,this.isEmail,this.short],label:"Email"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("q-input",{ref:"username",attrs:{square:"",clearable:"","lazy-rules":"",dense:"",rules:[this.required,this.short],type:"username",label:"Username"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("q-input",{ref:"password",attrs:{square:"",clearable:"",type:e.passwordFieldType,"lazy-rules":"",dense:"",rules:[this.required,this.short],label:"Password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("q-input",{ref:"password_confirmation",attrs:{square:"",clearable:"",type:e.passwordFieldType,"lazy-rules":"",dense:"",rules:[this.required,this.short,this.diffPassword],label:"Confirmation"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:e.password_confirmation,callback:function(t){e.password_confirmation=t},expression:"password_confirmation"}}),s("q-select",{ref:"RolesVal",attrs:{filled:"",options:e.RolesData,label:"Select Role",multiple:"","emit-value":"","map-options":"",rules:[this.requiredRole]},scopedSlots:e._u([{key:"option",fn:function(t){var a=t.itemProps,i=t.itemEvents,r=t.opt,n=t.selected,o=t.toggleOption;return[s("q-item",e._g(e._b({},"q-item",a,!1),i),[s("q-item-section",[s("q-item-label",{domProps:{innerHTML:e._s(r.label)}})],1),s("q-item-section",{attrs:{side:""}},[s("q-toggle",{attrs:{value:n},on:{input:function(e){return o(r)}}})],1)],1)]}}]),model:{value:e.SelectRoles,callback:function(t){e.SelectRoles=t},expression:"SelectRoles"}}),s("q-select",{ref:"BranchesVal",attrs:{filled:"",options:e.BranchesList,"stack-label":"","emit-value":"","map-options":"",label:"Appletronics Warehouse",color:"secondary",rules:[this.requiredBranch]},scopedSlots:e._u([{key:"selected-item",fn:function(t){return[s("q-chip",{staticClass:"q-ma-none",attrs:{removable:"",dense:"",tabindex:t.tabindex,color:"teal","text-color":"white"},on:{remove:function(e){return t.removeAtIndex(t.index)}}},[s("q-avatar",{attrs:{color:"teal","text-color":"white",icon:t.opt.icon}}),e._v("\n                      "+e._s(t.opt.label)+"\n                    ")],1)]}}]),model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",icon:"fas fa-save",label:"save"},on:{click:function(t){return e.UsersCreate()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"}})],1)],1)],1),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.UsersUpdateDialog,callback:function(t){e.UsersUpdateDialog=t},expression:"UsersUpdateDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v(" Edit User ")]),s("q-card-section",{staticClass:"bg-white"},[s("q-input",{ref:"email",attrs:{square:"",clearable:"",type:"email","lazy-rules":"",dense:"",rules:[this.required,this.isEmail,this.short],label:"Email"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("q-input",{ref:"username",attrs:{square:"",clearable:"","lazy-rules":"",dense:"",rules:[this.required,this.short],type:"username",label:"Username"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("q-input",{ref:"password",attrs:{square:"",clearable:"",type:e.passwordFieldType,"lazy-rules":"",dense:"",rules:[this.required,this.short],label:"Password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("q-input",{ref:"password_confirmation",attrs:{square:"",clearable:"",type:e.passwordFieldType,"lazy-rules":"",dense:"",rules:[this.required,this.short,this.diffPassword],label:"Confirmation"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:e.password_confirmation,callback:function(t){e.password_confirmation=t},expression:"password_confirmation"}}),s("q-select",{ref:"RolesVal",attrs:{filled:"",options:e.RolesData,label:"Select Role",multiple:"","emit-value":"","map-options":"",rules:[this.requiredRole]},scopedSlots:e._u([{key:"option",fn:function(t){var a=t.itemProps,i=t.itemEvents,r=t.opt,n=t.selected,o=t.toggleOption;return[s("q-item",e._g(e._b({},"q-item",a,!1),i),[s("q-item-section",[s("q-item-label",{domProps:{innerHTML:e._s(r.label)}})],1),s("q-item-section",{attrs:{side:""}},[s("q-toggle",{attrs:{value:n},on:{input:function(e){return o(r)}}})],1)],1)]}}]),model:{value:e.SelectRoles,callback:function(t){e.SelectRoles=t},expression:"SelectRoles"}}),s("q-select",{ref:"BranchesVal",attrs:{filled:"",options:e.BranchesList,"stack-label":"","emit-value":"","map-options":"",label:"Appletronics Warehouse",color:"secondary",rules:[this.requiredBranch]},scopedSlots:e._u([{key:"selected-item",fn:function(t){return[s("q-chip",{staticClass:"q-ma-none",attrs:{removable:"",dense:"",tabindex:t.tabindex,color:"teal","text-color":"white"},on:{remove:function(e){return t.removeAtIndex(t.index)}}},[s("q-avatar",{attrs:{color:"teal","text-color":"white",icon:t.opt.icon}}),e._v("\n                      "+e._s(t.opt.label)+"\n                    ")],1)]}}]),model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",icon:"fas fa-save",label:"Update"},on:{click:function(t){return e.UsersUpdate()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"}})],1)],1)],1),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.RolesListDialog,callback:function(t){e.RolesListDialog=t},expression:"RolesListDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v("Roles")]),s("q-card-section",{staticClass:"bg-white"},e._l(e.RolesList.data,(function(t){return s("div",[s("q-chip",{attrs:{color:"teal",dense:""}},[e._v(e._s(t.name))])],1)})),0),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"},on:{click:function(t){e.RolesList=[]}}})],1)],1)],1)],1)]),s("q-tab-panel",{attrs:{name:"branches"}},[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("q-btn",{staticStyle:{"margin-right":"5px"},attrs:{color:"teal",dense:"",icon:"far fa-plus-square"},on:{click:function(t){e.CreateBranchDialog=!0}}}),""!=e.selectedBranches?s("q-btn",{attrs:{color:"teal",dense:"",icon:"fas fa-trash-alt"},on:{click:function(t){return e.deleteBranch()}}}):e._e()],1),s("q-table",{attrs:{dense:"",filter:e.filterBranches,title:"Branches/WHS",data:e.dataBranches,columns:e.columnsBranches,"row-key":"branch","selected-rows-label":e.BranchesMultipleSelect,selection:"multiple",selected:e.selectedBranches},on:{"update:selected":function(t){e.selectedBranches=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[s("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filterBranches,callback:function(t){e.filterBranches=t},expression:"filterBranches"}})]},proxy:!0},{key:"body-cell-actions",fn:function(t){return[s("q-td",{attrs:{props:t}},[s("q-icon",{attrs:{name:"fas fa-edit",color:"teal",dense:""},on:{click:function(s){return e.BranchesEdit({data:t.row})}}})],1)]}}])})],1)],1),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.CreateBranchDialog,callback:function(t){e.CreateBranchDialog=t},expression:"CreateBranchDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v("Create Branch")]),s("q-card-section",{staticClass:"bg-white"},[s("q-input",{ref:"requiredBranch",attrs:{dense:"","lazy-rules":"",clearable:"",label:"Branch",rules:[this.requiredBranch]},model:{value:e.branchField,callback:function(t){e.branchField=t},expression:"branchField"}}),s("q-input",{ref:"requiredWarehouse",attrs:{"lazy-rules":"",dense:"",clearable:"",label:"Warehouse",rules:[this.requiredWarehouse]},model:{value:e.warehouseField,callback:function(t){e.warehouseField=t},expression:"warehouseField"}})],1),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",icon:"fas fa-save",label:"save"},on:{click:function(t){return e.CreateBranch()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"},on:{click:function(t){e.branchField=""}}})],1)],1)],1),s("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:e.EditBranchDialog,callback:function(t){e.EditBranchDialog=t},expression:"EditBranchDialog"}},[s("q-card",{staticClass:"bg-teal text-white",staticStyle:{width:"300px"}},[s("q-bar",[e._v("Edit Branch")]),s("q-card-section",{staticClass:"bg-white"},[s("q-input",{ref:"requiredBranch",attrs:{dense:"","lazy-rules":"",clearable:"",label:"Branch",rules:[this.requiredBranch]},model:{value:e.branchField,callback:function(t){e.branchField=t},expression:"branchField"}}),s("q-input",{ref:"requiredWarehouse",attrs:{"lazy-rules":"",dense:"",clearable:"",label:"Warehouse",rules:[this.requiredWarehouse]},model:{value:e.warehouseField,callback:function(t){e.warehouseField=t},expression:"warehouseField"}})],1),s("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",icon:"fas fa-save",label:"save"},on:{click:function(t){return e.UpdateBranch()}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times",label:"close"},on:{click:function(t){e.branchField=""}}})],1)],1)],1)],1)],1)}),V=[],Z=s("ade3"),H=(s("159b"),s("99af"),s("caad"),s("2532"),s("bc3a")),J=localStorage.getItem("user-token"),Q=H.create({baseURL:"http://127.0.0.1:8000/api/",headers:{Authorization:"Bearer "+J}}),Y={data:function(){var e;return e={permissions:[],Authorization:!1,email:"",name:"",password:"",password_confirmation:"",passwordFieldType:"password",UsersUpdateDialog:!1,RolesData:[],RolesList:[],RolesListDialog:!1,SelectRoles:[],branch:null,BranchesList:[],branchField:null,EditBranchDialog:!1,EditBranchID:null,warehouseField:null,UsersUpdateModel:null,UsersCreateDialog:!1,UserUpdateID:null,EditedPermission:null,PermissionsList:[],PermissionListDialog:!1,RoleCreateModel:null,RoleIdUpdateModel:null,RoleUpdateModel:null,RoleCreateDialog:!1,RoleEditDialog:!1,CreateBranchDialog:!1,SelectPermissions:[],filterOptions:[],RoleData:[],RoleName:null},Object(Z["a"])(e,"RoleEditDialog",!1),Object(Z["a"])(e,"selectedRole",[]),Object(Z["a"])(e,"selectedBranches",[]),Object(Z["a"])(e,"selectedUsers",[]),Object(Z["a"])(e,"PermissionCreateModel",null),Object(Z["a"])(e,"permissionCreateDialog",!1),Object(Z["a"])(e,"PermissionName",null),Object(Z["a"])(e,"permissionEditDialog",!1),Object(Z["a"])(e,"selectedPermission",[]),Object(Z["a"])(e,"tab","users"),Object(Z["a"])(e,"innerTab","innerMails"),Object(Z["a"])(e,"splitterModel",20),Object(Z["a"])(e,"filterPermissions",""),Object(Z["a"])(e,"filterRoles",""),Object(Z["a"])(e,"filterBranches",""),Object(Z["a"])(e,"filterUsers",""),Object(Z["a"])(e,"columnsPermissions",[{name:"name",required:!0,field:"name",label:"Name",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"actions",sortable:!0}]),Object(Z["a"])(e,"columnsBranches",[{name:"name",required:!0,field:"branch",label:"Name",align:"left",sortable:!0},{name:"WareHouse",required:!0,field:"whscode",label:"WareHouse",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"actions",sortable:!0}]),Object(Z["a"])(e,"columnsUsers",[{name:"name",required:!0,field:"name",label:"Name",align:"left",sortable:!0},{name:"email",required:!0,field:"email",label:"Email",align:"left",sortable:!0},{name:"branches",required:!0,label:"Branch/Whs",align:"left",sortable:!0},{name:"roles",required:!0,label:"Roles",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"actions",sortable:!0}]),Object(Z["a"])(e,"columnsRoles",[{name:"name",field:"name",required:!0,label:"Name",align:"left",sortable:!0},{name:"permissions",required:!0,label:"Permissions",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"actions",sortable:!0}]),Object(Z["a"])(e,"dataPermissions",[]),Object(Z["a"])(e,"dataRoles",[]),Object(Z["a"])(e,"dataBranches",[]),Object(Z["a"])(e,"dataUsers",[]),e},methods:(a={requiredWarehouse:function(e){return e&&e.length>0||"Required Warehouse"},requiredBranch:function(e){return e&&e.length>0||"Required Branch"},RequiredRole:function(e){return e&&e.length>0||"Required Role"},RequiredPermission:function(e){return e&&e.length>0||"Required Permissions"},required:function(e){return e&&e.length>0||"Please enter password"},requiredRole:function(e){return e&&e.length>0||"Please Select Roles"}},Object(Z["a"])(a,"requiredBranch",(function(e){if(!e)return"Please Select Branch/Whs"})),Object(Z["a"])(a,"diffPassword",(function(e){var t=this.$refs.password.value;return e&&e===t||"Password does not match!"})),Object(Z["a"])(a,"short",(function(e){return e&&e.length>3||"The Value is to short"})),Object(Z["a"])(a,"isEmail",(function(e){var t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Please enter a valid email"})),Object(Z["a"])(a,"renderPermission",(function(){var e=this;Q.post("/permission/index").then((function(t){e.dataPermissions=t.data}))})),Object(Z["a"])(a,"Permissionedit",(function(e){var t=this;this.EditedPermission=e,this.permissionEditDialog=!0,Q.post("/permission/edit",{id:e}).then((function(e){t.PermissionName=e.data.name}),(function(){t.$q.notify({type:"warning",message:"Something Wrong..!"})}))})),Object(Z["a"])(a,"PermissionUpdate",(function(){var e=this;this.PermissionCreateModel="",this.$refs.RequiredPermission.validate(),this.$refs.RequiredPermission.hasError||Q.post("/permission/update",{name:this.PermissionName,id:this.EditedPermission}).then((function(t){e.renderPermission(),e.EditedPermission=[],e.$q.notify({type:""+t.data.color,message:""+t.data.msg})}),(function(){e.$q.notify({type:"warning",message:"Something Wrong..!"})}))})),Object(Z["a"])(a,"PermissionCreate",(function(){var e=this;this.$refs.RequiredPermission.validate(),this.$refs.RequiredPermission.hasError||Q.post("/permission/create",{name:this.PermissionCreateModel}).then((function(t){e.renderPermission(),e.$q.notify({type:""+t.data.color,message:""+t.data.msg})}),(function(){e.$q.notify({type:"warning",message:"Something Wrong..!"})}))})),Object(Z["a"])(a,"permissionTrash",(function(){var e=this,t=this.selectedPermission;Q.post("/permission/trash",{trash:t}).then((function(t){e.renderPermission(),e.$q.notify({type:""+t.data.color,message:""+t.data.msg}),e.selectedPermission=[]}),(function(){e.$q.notify({type:"warning",message:"Something Wrong..!"})}))})),Object(Z["a"])(a,"RoleCreate",(function(){var e=this;this.$refs.RequiredRole.validate(),this.$refs.RequiredPermission.validate(),this.$refs.RequiredPermission.hasError||this.$refs.RequiredRole.hasError||Q.post("/role/create",{name:this.RoleCreateModel,permissions:this.SelectPermissions}).then((function(t){e.renderRole(),e.$q.notify({type:""+t.data.color,message:""+t.data.msg})}),(function(){e.$q.notify({type:"warning",message:"Something Wrong..!"})}))})),Object(Z["a"])(a,"RoleEdit",(function(e){this.RoleIdUpdateModel=e.id,this.RoleUpdateModel=e.role,this.PermissionsList=e,this.RoleEditDialog=!0;var t=[];e.data.forEach((function(e){t.push(e.id)})),this.SelectPermissions=t})),Object(Z["a"])(a,"renderRole",(function(){var e=this;Q.post("/role/index").then((function(t){e.dataRoles=t.data;var s=[];t.data.forEach((function(e){s.push({label:e.name,value:e.id})})),e.RolesData=s}),(function(){e.$q.notify({type:"warning",message:"Something Wrong..Please Refresh the page!"})}))})),Object(Z["a"])(a,"RoleUpdate",(function(){var e=this;this.$refs.RequiredRole.validate(),this.$refs.RequiredPermission.validate(),this.$refs.RequiredPermission.hasError||this.$refs.RequiredRole.hasError||Q.post("/role/update",{id:this.RoleIdUpdateModel,name:this.RoleUpdateModel,permissions:this.SelectPermissions}).then((function(){e.renderRole(),e.$q.notify({type:""+res.data.color,message:""+res.data.msg})}),(function(){e.$q.notify({type:"warning",message:"Something Wrong..!"})}))})),Object(Z["a"])(a,"CreateRole_btn",(function(){var e=this;Q.post("/permission/index").then((function(t){t.data.forEach((function(t){e.filterOptions.push({label:t.name,value:t.id})}))}),(function(){e.$q.notify({type:"warning",message:"Something Wrong..!"})}))})),Object(Z["a"])(a,"RoleDelete",(function(){var e=this,t=this.selectedRole;Q.post("/role/trash",{trash:t}).then((function(t){e.renderRole(),e.$q.notify({type:""+t.data.color,message:""+t.data.msg}),e.selectedRole=[]}),(function(){e.$q.notify({type:"warning",message:"Something Wrong..!"})}))})),Object(Z["a"])(a,"morePermission",(function(e){this.PermissionsList=e,this.PermissionListDialog=!0})),Object(Z["a"])(a,"renderBranches",(function(){var e=this;Q.post("/Branches/index").then((function(t){e.dataBranches=t.data}))})),Object(Z["a"])(a,"BranchesEdit",(function(e){this.branchField=e.data.branch,this.warehouseField=e.data.whscode,this.branchID=e.data.id,this.EditBranchDialog=!0})),Object(Z["a"])(a,"UpdateBranch",(function(){var e=this,t=this.branchField,s=this.warehouseField,a=this.branchID;this.$refs.requiredWarehouse.validate(),this.$refs.requiredBranch.validate(),this.$refs.requiredWarehouse.hasError||this.$refs.requiredBranch.hasError||Q.post("/Branches/update",{branch:t,warehouse:s,branchID:a}).then((function(t){e.$q.notify({type:""+t.data.color,message:""+t.data.msg}),e.renderBranches()}))})),Object(Z["a"])(a,"branches",(function(){var e=this;Q.get("/branches/get").then((function(t){var s=[];t.data.forEach((function(e){s.push({label:e.branch,value:e.id,icon:"house"})})),e.BranchesList=s}))})),Object(Z["a"])(a,"CreateBranch",(function(){var e=this;if(this.$refs.requiredWarehouse.validate(),this.$refs.requiredBranch.validate(),!this.$refs.requiredWarehouse.hasError&&!this.$refs.requiredBranch.hasError){var t=this.branchField,s=this.warehouseField;Q.post("/Branches/create",{branches:t,warehouse:s}).then((function(t){e.$q.notify({type:""+t.data.color,message:""+t.data.msg}),e.renderBranches()}),(function(t){e.$q.notify({type:"warning",message:"Something Wrong..!"})}))}})),Object(Z["a"])(a,"deleteBranch",(function(){var e=this,t=this.selectedBranches;Q.post("/Branches/trash",{trash:t}).then((function(t){e.$q.notify({type:""+t.data.color,message:""+t.data.msg}),e.selectedBranches=[],e.renderBranches()}),(function(e){console.log(e)}))})),Object(Z["a"])(a,"renderUsers",(function(){var e=this;Q.post("/Users/index").then((function(t){e.dataUsers=t.data}))})),Object(Z["a"])(a,"UsersEdit",(function(e){this.UserUpdateID=e.data.id,this.email=e.data.email,this.name=e.data.name,this.password=e.data.password;var t=[];e.data.roles.forEach((function(e){t.push(e.id)})),this.SelectRoles=t,e.data.branches&&(this.branch={label:e.data.branches.branch,value:e.data.branch_id,icon:"house"}),this.UsersUpdateDialog=!0})),Object(Z["a"])(a,"UsersCreate",(function(){var e=this;this.$refs.email.validate(),this.$refs.username.validate(),this.$refs.password.validate(),this.$refs.password_confirmation.validate(),this.$refs.RolesVal.validate(),this.$refs.BranchesVal.validate(),this.$refs.email.hasError||this.$refs.username.hasError||this.$refs.password.hasError||this.$refs.password_confirmation.hasError||this.$refs.BranchesVal.hasError||Q.post("/register/user",{name:this.name,email:this.email,password:this.password,password_confirmation:this.password_confirmation,roles:this.SelectRoles,branch:this.branch}).then((function(t){e.$q.notify({type:""+t.data.color,message:""+t.data.msg}),e.renderUsers()}),(function(t){e.$q.notify({type:"warning",message:""+t.response.data.errors.email[0]}),e.$q.notify({type:"warning",message:""+t.response.data.errors.name[0]}),e.$q.notify({type:"warning",message:""+t.response.data.errors.password[0]})}))})),Object(Z["a"])(a,"UsersUpdate",(function(){var e=this;this.$refs.email.validate(),this.$refs.username.validate(),this.$refs.RolesVal.validate(),this.$refs.BranchesVal.validate(),this.$refs.email.hasError||this.$refs.username.hasError||this.$refs.BranchesVal.hasError||Q.post("/Users/update",{id:this.UserUpdateID,name:this.name,email:this.email,password:this.password,password_confirmation:this.password_confirmation,roles:this.SelectRoles,branch:this.branch}).then((function(t){e.$q.notify({type:""+t.data.color,message:""+t.data.msg}),e.renderUsers()}),(function(t){e.$q.notify({type:"warning",message:""+t.response.data.errors.email[0]}),e.$q.notify({type:"warning",message:""+t.response.data.errors.name[0]}),e.$q.notify({type:"warning",message:""+t.response.data.errors.password[0]})}))})),Object(Z["a"])(a,"userDelete",(function(){var e=this,t=this.selectedUsers;Q.post("/Users/trash",{id:t}).then((function(t){e.$q.notify({type:""+t.data.color,message:""+t.data.msg}),e.renderUsers()}),(function(){e.$q.notify({type:"warning",message:"Something Wrong..!"})}))})),Object(Z["a"])(a,"moreRoles",(function(e){this.RolesList=e,this.RolesListDialog=!0})),Object(Z["a"])(a,"MultipleSelect",(function(){return 0===this.selectedPermission.length?"":"".concat(this.selectedPermission.length," record").concat(this.selectedPermission.length>1?"s":""," selected of ").concat(this.dataPermissions.length)})),Object(Z["a"])(a,"RoleMultipleSelect",(function(){return 0===this.selectedRole.length?"":"".concat(this.selectedRole.length," record").concat(this.selectedRole.length>1?"s":""," selected of ").concat(this.dataRoles.length)})),Object(Z["a"])(a,"BranchesMultipleSelect",(function(){return 0===this.selectedBranches.length?"":"".concat(this.selectedBranches.length," record").concat(this.selectedBranches.length>1?"s":""," selected of ").concat(this.dataBranches.length)})),Object(Z["a"])(a,"UsersMultipleSelect",(function(){return 0===this.selectedUsers.length?"":"".concat(this.selectedUsers.length," record").concat(this.selectedUsers.length>1?"s":""," selected of ").concat(this.dataUsers.length)})),Object(Z["a"])(a,"hasPermission",(function(e){return this.permissions.includes(e)})),a),mounted:function(){var e=this;this.renderPermission(),this.renderRole(),this.renderUsers(),this.branches(),this.renderBranches(),this.CreateRole_btn(),Q.post("/Users/Authorize").then((function(t){e.permissions=t.data.user_permissions}))}},G=Y,K=Object(u["a"])(G,I,V,!1,null,null,null),X=K.exports,ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[s("q-card",{staticClass:"bg-grey-5 my-card",attrs:{dark:"",bordered:""}},[s("q-card-section",[s("q-chip",{attrs:{color:"orange",icon:"fas fa-sms"}},[e._v(" Message Cast ")])],1),s("q-card-section",[s("q-checkbox",{attrs:{color:"teal"},model:{value:e.sendAll,callback:function(t){e.sendAll=t},expression:"sendAll"}},[e._v("Send To All")])],1),s("q-card-section",[0==e.sendAll?s("q-select",{staticStyle:{width:"250px"},attrs:{filled:"",label:"Customer Numbers","use-input":"","use-chips":"",multiple:"","emit-value":"","map-options":"","input-debounce":"0",options:e.filterOptions},on:{"new-value":e.createValue,filter:e.filterFn},model:{value:e.contacts,callback:function(t){e.contacts=t},expression:"contacts"}}):e._e()],1),s("q-card-section",[s("q-input",{attrs:{filled:"",type:"textarea",label:"Message"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),s("q-card-section",[s("div",{staticStyle:{"text-align":"right"}},[s("q-btn",{attrs:{color:"teal",label:"Send"},on:{click:function(t){return e.send()}}})],1)])],1)],1)},te=[],se=(s("4de4"),s("bc3a")),ae=localStorage.getItem("user-token"),ie=se.create({baseURL:"http://127.0.0.1:8000/api/",headers:{Authorization:"Bearer "+ae}}),re=[],ne={data:function(){return{sendAll:!0,contacts:[],message:null,filterOptions:re}},methods:{createValue:function(e,t){e.length>0&&(re.includes(e)||re.push(e),t(e,"toggle"))},filterFn:function(e,t){var s=this;t((function(){if(""===e)s.filterOptions=re;else{var t=e.toLowerCase();s.filterOptions=re.filter((function(e){return e.toLowerCase().indexOf(t)>-1}))}}))},render:function(){ie.get("http://127.0.0.1:8000/api/messagecast/branch/index").then((function(e){console.log(e),e.data.forEach((function(e){re.push({label:e.name,val:e.number})}))}))},send:function(){var e=0;1==this.sendAll&&(e=1);var t=this.contacts,s=this.message;ie.post("/messagecast/marketing/send",{stringOptions:re,contact:t,message:s,inden:e}).then((function(e){console.log(e)}),(function(e){console.log(e)}))}},mounted:function(){this.render()}},oe=ne,le=Object(u["a"])(oe,ee,te,!1,null,null,null),ce=le.exports,de={},ue=Object(u["a"])(de,i,r,!1,null,null,null),pe=ue.exports;n["default"].use(v["a"]);var he=[{path:"/login",component:$,name:"login"},{path:"/",components:{default:A},children:[{path:"/messagecast/marketing/index",component:ce},{path:"/messagecast/branch/index",component:pe},{path:"/settings",name:"settings",component:X}]}],me=new v["a"]({routes:he});s("15f5");n["default"].mixin({methods:{checkAuth:function(){var e=this,t=localStorage.getItem("user-token");k.a.post("http://127.0.0.1:8000/api/login/auth",{ms:"go"},{headers:{Authorization:"Bearer "+t}}).then((function(){"login"==e.$route.name&&me.push("/")})).catch((function(e){localStorage.removeItem("user-token"),me.push("/login"),console.log(e)}))}}});var fe=s("bf15");n["default"].use(fe["a"]),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(q)},router:me}).$mount("#app")},"62d9":function(e,t,s){"use strict";s("0872")},c330:function(e,t,s){},c34f:function(e,t,s){"use strict";s("c330")}});
//# sourceMappingURL=app.552724ef.js.map